<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Area Docente - Monitoraggio Progressi</title>
    <meta name="description" content="Pannello di controllo per monitorare i progressi degli studenti nelle attivit√† di Metodologie Operative.">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>Area Docente</h1>
            <p>Monitoraggio attivit√† e progressi degli studenti</p>
            <p style="font-size: 0.9rem; margin-top: 0.5rem;">Metodologie Operative ¬∑ IIS Meucci Mattei</p>
        </div>
    </header>

    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="biennio.html">Biennio</a></li>
            <li><a href="terzo.html">Terzo Anno</a></li>
            <li><a href="quarto.html">Quarto Anno</a></li>
            <li><a href="quinto.html">Quinto Anno</a></li>
            <li><a href="laboratorio.html">Laboratorio</a></li>
            <li><a href="peer_tutoring.html">Peer Tutoring</a></li>
            <li><a href="compresenza.html">Compresenza</a></li>
            <li><a href="area_docente.html" class="active">Area Docente</a></li>
        </ul>
    </nav>

    <main>
        <div class="container">
            <section class="docente-hero">
                <div>
                    <h2>Dashboard Progressi Studenti</h2>
                    <p>Questa sezione raccoglie automaticamente i salvataggi effettuati dagli studenti in tutte le attivit√† interattive del sito. Puoi filtrare per classe o attivit√†, verificare chi ha completato i compiti e aprire direttamente i materiali assegnati.</p>
                    <ul>
                        <li>üë• <strong>Vista per classe</strong>: controlla a colpo d'occhio chi sta lavorando.</li>
                        <li>üìÑ <strong>Vista per attivit√†</strong>: monitora quanti studenti hanno completato un determinato modulo.</li>
                        <li>üîó <strong>Accesso rapido</strong>: apri subito la pagina dell'attivit√† per rivederne i contenuti.</li>
                    </ul>
                </div>
            </section>

            <section class="docente-dashboard card">
                <div id="docente-auth-overlay">
                    <div class="auth-box">
                        <h3>üîê Accesso riservato</h3>
                        <p>Inserisci la password docente per visualizzare i progressi.</p>
                        <form id="docente-login-form">
                            <input type="password" id="docente-password" placeholder="Password" required>
                            <button type="submit" class="btn btn-primary">Accedi</button>
                        </form>
                        <p class="small-note">Suggerimento: usa la stessa password delle altre sezioni riservate.</p>
                    </div>
                </div>

                <div id="docente-dashboard-content" class="hidden">
                    <div class="dashboard-topbar">
                        <div>
                            <p class="muted">Ultimo aggiornamento</p>
                            <p id="dashboard-last-refresh">-</p>
                        </div>
                        <button id="refresh-dashboard" class="btn btn-secondary">üîÑ Aggiorna dati</button>
                    </div>

                    <div class="dashboard-filters">
                        <div class="filter-control">
                            <label for="dashboard-class-filter">Classe</label>
                            <select id="dashboard-class-filter">
                                <option value="">Tutte le classi</option>
                            </select>
                        </div>
                        <div class="filter-control">
                            <label for="dashboard-activity-filter">Attivit√†</label>
                            <select id="dashboard-activity-filter">
                                <option value="">Tutte le attivit√†</option>
                            </select>
                        </div>
                        <div class="filter-control">
                            <label for="dashboard-student-search">Studente</label>
                            <input type="text" id="dashboard-student-search" placeholder="Cognome o codice">
                        </div>
                    </div>

                    <div class="stats-overview docente-stats">
                        <div class="stat-card">
                            <h4>üë• Studenti attivi</h4>
                            <p id="doc-stat-students" class="stat-value">0</p>
                            <p class="muted" id="doc-class-focus">tutte le classi</p>
                        </div>
                        <div class="stat-card">
                            <h4>üìö Attivit√† assegnate</h4>
                            <p id="doc-stat-activities" class="stat-value">0</p>
                            <p class="muted">con almeno un salvataggio</p>
                        </div>
                        <div class="stat-card">
                            <h4>üíæ Salvataggi totali</h4>
                            <p id="doc-stat-entries" class="stat-value">0</p>
                            <p class="muted" id="doc-activity-focus">tutte le attivit√†</p>
                        </div>
                        <div class="stat-card">
                            <h4>‚è±Ô∏è Ultimo aggiornamento</h4>
                            <p id="doc-stat-last-update" class="stat-value">-</p>
                            <p class="muted">ora locale</p>
                        </div>
                    </div>

                    <section class="summary-section">
                        <div class="section-header">
                            <h3>Panoramica attivit√†</h3>
                            <p class="muted">Studenti che hanno salvato progressi per ogni attivit√†</p>
                        </div>
                        <div class="table-wrapper">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Attivit√†</th>
                                        <th>Classe</th>
                                        <th>Studenti attivi</th>
                                        <th>Ultimo salvataggio</th>
                                        <th>Apri</th>
                                    </tr>
                                </thead>
                                <tbody id="activity-summary-body">
                                    <tr><td colspan="5">Nessun dato disponibile.</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </section>

                    <section class="summary-section class-progress-section">
                        <div class="section-header">
                            <h3>Progressi per classe e studente</h3>
                            <p class="muted">Espandi una classe per vedere ogni studente e aprire le attivit√† in modalit√† docente.</p>
                        </div>
                        <div id="class-student-progress" class="class-progress-container">
                            <div class="empty-state">
                                <p>Seleziona una classe o aggiorna i dati per vedere i progressi per studente.</p>
                            </div>
                        </div>
                    </section>

                    <section class="summary-section">
                        <div class="section-header">
                            <h3>Dettaglio studenti</h3>
                            <p class="muted">Ultimo salvataggio per ciascuno studente</p>
                        </div>
                        <div class="table-wrapper">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Classe</th>
                                        <th>Studente</th>
                                        <th>Ultima attivit√†</th>
                                        <th>Data</th>
                                        <th>Apri</th>
                                    </tr>
                                </thead>
                                <tbody id="student-detail-body">
                                    <tr><td colspan="5">Nessun dato disponibile.</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </section>

                    <section class="summary-section assessment-section">
                        <div class="section-header">
                            <div>
                                <h3>Risultati Test ¬∑ Verifiche ¬∑ Laboratori</h3>
                                <p class="muted">Stroop test, verifiche digitali e laboratori interattivi con punteggi e risposte salvate</p>
                            </div>
                            <div class="section-actions">
                                <a class="btn btn-secondary" href="stroop_statistiche.html" target="_blank" rel="noopener">Dashboard Stroop</a>
                            </div>
                        </div>

                        <div id="assessment-insights" class="assessment-insights">
                            <div class="empty-state">
                                <p>Nessun test registrato.</p>
                            </div>
                        </div>

                        <div class="table-wrapper" style="margin-top:1.5rem;">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Classe</th>
                                        <th>Partecipanti</th>
                                        <th>Punteggio medio</th>
                                        <th>Accuratezza media</th>
                                        <th>Ultimo aggiornamento</th>
                                    </tr>
                                </thead>
                                <tbody id="assessment-class-summary">
                                    <tr><td colspan="5">Nessun dato disponibile.</td></tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="table-wrapper" style="margin-top:1.5rem;">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Classe</th>
                                        <th>Studente</th>
                                        <th>Punteggio</th>
                                        <th>Accuratezza</th>
                                        <th>Durata</th>
                                        <th>Data</th>
                                        <th>Azioni</th>
                                    </tr>
                                </thead>
                                <tbody id="assessment-detail-body">
                                    <tr><td colspan="7">Nessun risultato disponibile.</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </section>
                </div>
            </section>
        </div>
    </main>

    <footer>
        <div class="container">
            <p><strong>Prof. Dott. Picconi</strong></p>
            <p>Metodologie Operative - Servizi Sociosanitari</p>
            <p>IIS Meucci Mattei - Cagliari</p>
            <p style="margin-top: 1rem; font-size: 0.9rem;">&copy; 2025 - Tutti i diritti riservati</p>
        </div>
    </footer>

    <script type="module" src="assets/progress-dashboard.js"></script>

    <div id="assessment-modal" class="assessment-modal" aria-hidden="true">
        <div class="assessment-modal-content" role="dialog" aria-modal="true">
            <button type="button" class="assessment-modal-close" aria-label="Chiudi dettagli" data-assessment-close>√ó</button>
            <div id="assessment-modal-body"></div>
        </div>
    </div>
</body>
</html>
